/*eslint-disable */
(function (root, factory) {
  if (typeof define === 'function' && define.amd) {
    define([], factory);
  } else if (typeof module !== 'undefined' && module.exports) {
    module.exports = factory();
  } else {
    root.ShapeDetector = factory();
  }
}(this, () => {
  let _nbSamplePoints;
  const _squareSize = 250;
  const _phi = 0.5 * (-1.0 + Math.sqrt(5.0));
  const _angleRange = deg2Rad(45.0);
  const _anglePrecision = deg2Rad(2.0);
  const _halfDiagonal = Math.sqrt(_squareSize * _squareSize + _squareSize * _squareSize) * 0.5;
  const _origin = { x: 0, y: 0 };

  function deg2Rad(d) {
    return d * Math.PI / 180.0;
  }

  function getDistance(a, b) {
    const dx = b.x - a.x;
    const dy = b.y - a.y;

    return Math.sqrt(dx * dx + dy * dy);
  }

  function Stroke(points, name) {
    this.points = points;
    this.name = name;
    this.processStroke();
  }

  Stroke.prototype.processStroke = function () {
    this.points = this.resample();
    this.setCentroid();
    this.points = this.rotateBy(-this.indicativeAngle());
    this.points = this.scaleToSquare();
    this.setCentroid();
    this.points = this.translateToOrigin();

    return this;
  };

  Stroke.prototype.resample = function () {
    let localDistance,
      q;
    const interval = this.strokeLength() / (_nbSamplePoints - 1);
    let distance = 0.0;
    const newPoints = [this.points[0]];

    for (let i = 1; i < this.points.length; i++) {
      localDistance = getDistance(this.points[i - 1], this.points[i]);

      if (distance + localDistance >= interval) {
        q = {
          x: this.points[i - 1].x + ((interval - distance) / localDistance) * (this.points[i].x - this.points[i - 1].x),
          y: this.points[i - 1].y + ((interval - distance) / localDistance) * (this.points[i].y - this.points[i - 1].y),
        };

        newPoints.push(q);
        this.points.splice(i, 0, q);
        distance = 0.0;
      } else {
        distance += localDistance;
      }
    }

    if (newPoints.length === _nbSamplePoints - 1) {
      newPoints.push(this.points[this.points.length - 1]);
    }

    return newPoints;
  };

  Stroke.prototype.rotateBy = function (angle) {
    let point;
    const cos = Math.cos(angle);
    const sin = Math.sin(angle);
    const newPoints = [];

    for (let i = 0; i < this.points.length; i++) {
      point = this.points[i];

      newPoints.push({
        x: (point.x - this.c.x) * cos - (point.y - this.c.y) * sin + this.c.x,
        y: (point.x - this.c.x) * sin + (point.y - this.c.y) * cos + this.c.y,
      });
    }

    return newPoints;
  };

  Stroke.prototype.scaleToSquare = function () {
    let point;
    const newPoints = [];
    const box = {
      minX: +Infinity,
      maxX: -Infinity,
      minY: +Infinity,
      maxY: -Infinity,
    };

    for (var i = 0; i < this.points.length; i++) {
      point = this.points[i];

      box.minX = Math.min(box.minX, point.x);
      box.minY = Math.min(box.minY, point.y);
      box.maxX = Math.max(box.maxX, point.x);
      box.maxY = Math.max(box.maxY, point.y);
    }

    box.width = box.maxX - box.minX;
    box.height = box.maxY - box.minY;

    for (i = 0; i < this.points.length; i++) {
      point = this.points[i];

      newPoints.push({
        x: point.x * (_squareSize / box.width),
        y: point.y * (_squareSize / box.height),
      });
    }

    return newPoints;
  };

  Stroke.prototype.translateToOrigin = function (points) {
    let point;
    const newPoints = [];

    for (let i = 0; i < this.points.length; i++) {
      point = this.points[i];

      newPoints.push({
        x: point.x + _origin.x - this.c.x,
        y: point.y + _origin.y - this.c.y,
      });
    }

    return newPoints;
  };

  Stroke.prototype.setCentroid = function () {
    let point;
    this.c = {
      x: 0.0,
      y: 0.0,
    };

    for (let i = 0; i < this.points.length; i++) {
      point = this.points[i];

      this.c.x += point.x;
      this.c.y += point.y;
    }

    this.c.x /= this.points.length;
    this.c.y /= this.points.length;

    return this;
  };

  Stroke.prototype.indicativeAngle = function () {
    return Math.atan2(this.c.y - this.points[0].y, this.c.x - this.points[0].x);
  };

  Stroke.prototype.strokeLength = function () {
    let d = 0.0;

    for (let i = 1; i < this.points.length; i++) {
      d += getDistance(this.points[i - 1], this.points[i]);
    }

    return d;
  };

  Stroke.prototype.distanceAtBestAngle = function (pattern) {
    let a = -_angleRange;
    let b = _angleRange;
    let x1 = _phi * a + (1.0 - _phi) * b;
    let f1 = this.distanceAtAngle(pattern, x1);
    let x2 = (1.0 - _phi) * a + _phi * b;
    let f2 = this.distanceAtAngle(pattern, x2);

    while (Math.abs(b - a) > _anglePrecision) {
      if (f1 < f2) {
        b = x2;
        x2 = x1;
        f2 = f1;
        x1 = _phi * a + (1.0 - _phi) * b;
        f1 = this.distanceAtAngle(pattern, x1);
      } else {
        a = x1;
        x1 = x2;
        f1 = f2;
        x2 = (1.0 - _phi) * a + _phi * b;
        f2 = this.distanceAtAngle(pattern, x2);
      }
    }

    return Math.min(f1, f2);
  };

  Stroke.prototype.distanceAtAngle = function (pattern, angle) {
    const strokePoints = this.rotateBy(angle);
    const patternPoints = pattern.points;
    let d = 0.0;

    for (let i = 0; i < strokePoints.length; i++) {
      d += getDistance(strokePoints[i], patternPoints[i]);
    }

    return d / strokePoints.length;
  };

  function ShapeDetector(patterns, options) {
    options = options || {};
    this.threshold = options.threshold || 0;
    _nbSamplePoints = options.nbSamplePoints || 64;

    this.patterns = [];

    for (let i = 0; i < patterns.length; i++) {
      this.learn(patterns[i].name, patterns[i].points);
    }
  }

  ShapeDetector.defaultShapes = [
    {
      points: [{ x: 140.17500305175776, y: 420.52500915527327 }, { x: 157.69687843322748, y: 385.4812583923338 }, { x: 175.2187538146972, y: 350.4375076293944 }, { x: 192.7406291961669, y: 315.39375686645496 }, { x: 210.26250457763663, y: 280.3500061035155 }, { x: 227.78437995910636, y: 245.30625534057606 }, { x: 245.30625534057606, y: 210.26250457763663 }, { x: 262.8281307220458, y: 175.2187538146972 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 297.87188148498524, y: 175.2187538146972 }, { x: 315.39375686645496, y: 210.26250457763663 }, { x: 332.9156322479247, y: 245.30625534057606 }, { x: 350.4375076293944, y: 280.3500061035155 }, { x: 367.95938301086414, y: 315.39375686645496 }, { x: 385.4812583923338, y: 350.4375076293944 }, { x: 403.00313377380354, y: 385.4812583923338 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }],
      name: 'triangle',
    },
    {
      points: [{ x: 280.3500061035155, y: 140.17500305175776 }, { x: 297.87188148498524, y: 175.2187538146972 }, { x: 315.39375686645496, y: 210.26250457763663 }, { x: 332.9156322479247, y: 245.30625534057606 }, { x: 350.4375076293944, y: 280.3500061035155 }, { x: 367.95938301086414, y: 315.39375686645496 }, { x: 385.4812583923338, y: 350.4375076293944 }, { x: 403.00313377380354, y: 385.4812583923338 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 157.69687843322748, y: 385.4812583923338 }, { x: 175.2187538146972, y: 350.4375076293944 }, { x: 192.7406291961669, y: 315.39375686645496 }, { x: 210.26250457763663, y: 280.3500061035155 }, { x: 227.78437995910636, y: 245.30625534057606 }, { x: 245.30625534057606, y: 210.26250457763663 }, { x: 262.8281307220458, y: 175.2187538146972 }, { x: 280.3500061035155, y: 140.17500305175776 }],
      name: 'triangle',
    },
    {
      points: [{ x: 420.52500915527327, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 157.69687843322748, y: 385.4812583923338 }, { x: 175.2187538146972, y: 350.4375076293944 }, { x: 192.7406291961669, y: 315.39375686645496 }, { x: 210.26250457763663, y: 280.3500061035155 }, { x: 227.78437995910636, y: 245.30625534057606 }, { x: 245.30625534057606, y: 210.26250457763663 }, { x: 262.8281307220458, y: 175.2187538146972 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 297.87188148498524, y: 175.2187538146972 }, { x: 315.39375686645496, y: 210.26250457763663 }, { x: 332.9156322479247, y: 245.30625534057606 }, { x: 350.4375076293944, y: 280.3500061035155 }, { x: 367.95938301086414, y: 315.39375686645496 }, { x: 385.4812583923338, y: 350.4375076293944 }, { x: 403.00313377380354, y: 385.4812583923338 }, { x: 420.52500915527327, y: 420.52500915527327 }],
      name: 'triangle',
    },
    {
      points: [{ x: 140.17500305175776, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 403.00313377380354, y: 385.4812583923338 }, { x: 385.4812583923338, y: 350.4375076293944 }, { x: 367.9593830108641, y: 315.39375686645496 }, { x: 350.4375076293944, y: 280.3500061035155 }, { x: 332.9156322479247, y: 245.30625534057606 }, { x: 315.39375686645496, y: 210.26250457763663 }, { x: 297.87188148498524, y: 175.2187538146972 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 262.8281307220458, y: 175.2187538146972 }, { x: 245.30625534057606, y: 210.26250457763663 }, { x: 227.78437995910636, y: 245.30625534057606 }, { x: 210.26250457763663, y: 280.3500061035155 }, { x: 192.7406291961669, y: 315.39375686645496 }, { x: 175.2187538146972, y: 350.4375076293944 }, { x: 157.69687843322748, y: 385.4812583923338 }, { x: 140.17500305175776, y: 420.52500915527327 }],
      name: 'triangle',
    },
    {
      points: [{ x: 420.52500915527327, y: 420.52500915527327 }, { x: 403.00313377380354, y: 385.4812583923338 }, { x: 385.4812583923338, y: 350.4375076293944 }, { x: 367.9593830108641, y: 315.39375686645496 }, { x: 350.4375076293944, y: 280.3500061035155 }, { x: 332.9156322479247, y: 245.30625534057606 }, { x: 315.39375686645496, y: 210.26250457763663 }, { x: 297.87188148498524, y: 175.2187538146972 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 262.8281307220458, y: 175.2187538146972 }, { x: 245.30625534057606, y: 210.26250457763663 }, { x: 227.78437995910636, y: 245.30625534057606 }, { x: 210.26250457763663, y: 280.3500061035155 }, { x: 192.7406291961669, y: 315.39375686645496 }, { x: 175.2187538146972, y: 350.4375076293944 }, { x: 157.69687843322748, y: 385.4812583923338 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }],
      name: 'triangle',
    },
    {
      points: [{ x: 280.3500061035155, y: 140.17500305175776 }, { x: 262.8281307220458, y: 175.2187538146972 }, { x: 245.30625534057606, y: 210.26250457763663 }, { x: 227.78437995910636, y: 245.30625534057606 }, { x: 210.26250457763663, y: 280.3500061035155 }, { x: 192.7406291961669, y: 315.39375686645496 }, { x: 175.2187538146972, y: 350.4375076293944 }, { x: 157.69687843322748, y: 385.4812583923338 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 403.00313377380354, y: 385.4812583923338 }, { x: 385.4812583923338, y: 350.4375076293944 }, { x: 367.9593830108641, y: 315.39375686645496 }, { x: 350.4375076293944, y: 280.3500061035155 }, { x: 332.9156322479247, y: 245.30625534057606 }, { x: 315.39375686645496, y: 210.26250457763663 }, { x: 297.87188148498524, y: 175.2187538146972 }, { x: 280.3500061035155, y: 140.17500305175776 }],
      name: 'triangle',
    },
    {
      points: [{ x: 140.17500305175776, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 140.17500305175776 }],
      name: 'square',
    },
    {
      points: [{ x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }],
      name: 'square',
    },
    {
      points: [{ x: 420.52500915527327, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 420.52500915527327 }],
      name: 'square',
    },
    {
      points: [{ x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }],
      name: 'square',
    },
    {
      points: [{ x: 140.17500305175776, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 420.52500915527327 }],
      name: 'square',
    },
    {
      points: [{ x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }],
      name: 'square',
    },
    {
      points: [{ x: 420.52500915527327, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 140.17500305175776 }],
      name: 'square',
    },
    {
      points: [{ x: 140.17500305175776, y: 140.17500305175776 }, { x: 140.17500305175776, y: 175.2187538146972 }, { x: 140.17500305175776, y: 210.26250457763663 }, { x: 140.17500305175776, y: 245.30625534057606 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 140.17500305175776, y: 315.39375686645496 }, { x: 140.17500305175776, y: 350.4375076293944 }, { x: 140.17500305175776, y: 385.4812583923338 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 140.17500305175776, y: 420.52500915527327 }, { x: 175.2187538146972, y: 420.52500915527327 }, { x: 210.26250457763663, y: 420.52500915527327 }, { x: 245.30625534057606, y: 420.52500915527327 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 315.39375686645496, y: 420.52500915527327 }, { x: 350.4375076293944, y: 420.52500915527327 }, { x: 385.4812583923338, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 420.52500915527327 }, { x: 420.52500915527327, y: 385.4812583923338 }, { x: 420.52500915527327, y: 350.4375076293944 }, { x: 420.52500915527327, y: 315.39375686645496 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 420.52500915527327, y: 245.30625534057606 }, { x: 420.52500915527327, y: 210.26250457763663 }, { x: 420.52500915527327, y: 175.2187538146972 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 420.52500915527327, y: 140.17500305175776 }, { x: 385.4812583923338, y: 140.17500305175776 }, { x: 350.4375076293944, y: 140.17500305175776 }, { x: 315.39375686645496, y: 140.17500305175776 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 245.30625534057606, y: 140.17500305175776 }, { x: 210.26250457763663, y: 140.17500305175776 }, { x: 175.2187538146972, y: 140.17500305175776 }, { x: 140.17500305175776, y: 140.17500305175776 }],
      name: 'square',
    },
    {
      points: [{ x: 420.52500915527327, y: 280.3500061035155 }, { x: 418.3954358873965, y: 304.69113993790967 }, { x: 412.07142208989444, y: 328.29268073795373 }, { x: 401.74511972189896, y: 350.43750762939436 }, { x: 387.73028825550034, y: 370.4527612529582 }, { x: 370.4527612529582, y: 387.73028825550034 }, { x: 350.4375076293944, y: 401.74511972189896 }, { x: 328.2926807379538, y: 412.07142208989444 }, { x: 304.69113993790967, y: 418.3954358873965 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 256.0088722691214, y: 418.3954358873965 }, { x: 232.4073314690773, y: 412.07142208989444 }, { x: 210.26250457763666, y: 401.74511972189896 }, { x: 190.2472509540728, y: 387.73028825550034 }, { x: 172.9697239515307, y: 370.4527612529582 }, { x: 158.95489248513206, y: 350.43750762939436 }, { x: 148.62859011713658, y: 328.2926807379538 }, { x: 142.30457631963455, y: 304.6911399379096 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 142.30457631963455, y: 256.00887226912135 }, { x: 148.62859011713655, y: 232.4073314690773 }, { x: 158.9548924851321, y: 210.2625045776366 }, { x: 172.96972395153068, y: 190.2472509540728 }, { x: 190.24725095407277, y: 172.9697239515307 }, { x: 210.26250457763658, y: 158.95489248513212 }, { x: 232.40733146907718, y: 148.62859011713658 }, { x: 256.00887226912135, y: 142.30457631963455 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 304.6911399379096, y: 142.30457631963455 }, { x: 328.2926807379537, y: 148.62859011713653 }, { x: 350.4375076293944, y: 158.9548924851321 }, { x: 370.4527612529582, y: 172.96972395153068 }, { x: 387.73028825550034, y: 190.24725095407274 }, { x: 401.7451197218989, y: 210.26250457763658 }, { x: 412.07142208989444, y: 232.4073314690773 }, { x: 418.39543588739645, y: 256.00887226912124 }, { x: 420.52500915527327, y: 280.35000610351545 }],
      name: 'circle',
    },
    {
      points: [{ x: 420.52500915527327, y: 280.3500061035155 }, { x: 418.3954358873965, y: 256.00887226912135 }, { x: 412.07142208989444, y: 232.4073314690773 }, { x: 401.74511972189896, y: 210.26250457763666 }, { x: 387.73028825550034, y: 190.2472509540728 }, { x: 370.4527612529582, y: 172.96972395153068 }, { x: 350.4375076293944, y: 158.9548924851321 }, { x: 328.2926807379538, y: 148.62859011713658 }, { x: 304.69113993790967, y: 142.30457631963455 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 256.0088722691214, y: 142.30457631963455 }, { x: 232.4073314690773, y: 148.62859011713655 }, { x: 210.26250457763666, y: 158.95489248513206 }, { x: 190.2472509540728, y: 172.96972395153068 }, { x: 172.9697239515307, y: 190.24725095407277 }, { x: 158.95489248513206, y: 210.26250457763666 }, { x: 148.62859011713658, y: 232.40733146907723 }, { x: 142.30457631963455, y: 256.0088722691214 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 142.30457631963455, y: 304.69113993790967 }, { x: 148.62859011713655, y: 328.29268073795373 }, { x: 158.9548924851321, y: 350.4375076293944 }, { x: 172.96972395153068, y: 370.4527612529582 }, { x: 190.24725095407277, y: 387.73028825550034 }, { x: 210.26250457763658, y: 401.7451197218989 }, { x: 232.40733146907718, y: 412.07142208989444 }, { x: 256.00887226912135, y: 418.3954358873965 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 304.6911399379096, y: 418.3954358873965 }, { x: 328.2926807379537, y: 412.0714220898945 }, { x: 350.4375076293944, y: 401.74511972189896 }, { x: 370.4527612529582, y: 387.73028825550034 }, { x: 387.73028825550034, y: 370.4527612529583 }, { x: 401.7451197218989, y: 350.4375076293944 }, { x: 412.07142208989444, y: 328.29268073795373 }, { x: 418.39543588739645, y: 304.6911399379098 }, { x: 420.52500915527327, y: 280.35000610351557 }],
      name: 'circle',
    },
    {
      points: [{ x: 140.17500305175776, y: 280.3500061035155 }, { x: 142.30457631963455, y: 256.00887226912135 }, { x: 148.62859011713655, y: 232.4073314690773 }, { x: 158.95489248513206, y: 210.26250457763666 }, { x: 172.96972395153068, y: 190.2472509540728 }, { x: 190.2472509540728, y: 172.96972395153068 }, { x: 210.2625045776366, y: 158.9548924851321 }, { x: 232.40733146907726, y: 148.62859011713658 }, { x: 256.00887226912135, y: 142.30457631963455 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 304.6911399379096, y: 142.30457631963455 }, { x: 328.29268073795373, y: 148.62859011713655 }, { x: 350.43750762939436, y: 158.95489248513206 }, { x: 370.4527612529582, y: 172.96972395153068 }, { x: 387.73028825550034, y: 190.24725095407277 }, { x: 401.74511972189896, y: 210.26250457763666 }, { x: 412.07142208989444, y: 232.40733146907723 }, { x: 418.3954358873965, y: 256.0088722691214 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 418.3954358873965, y: 304.69113993790967 }, { x: 412.07142208989444, y: 328.29268073795373 }, { x: 401.74511972189896, y: 350.4375076293944 }, { x: 387.73028825550034, y: 370.4527612529582 }, { x: 370.4527612529582, y: 387.73028825550034 }, { x: 350.4375076293944, y: 401.7451197218989 }, { x: 328.29268073795384, y: 412.07142208989444 }, { x: 304.69113993790967, y: 418.3954358873965 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 256.0088722691214, y: 418.3954358873965 }, { x: 232.40733146907735, y: 412.0714220898945 }, { x: 210.2625045776366, y: 401.74511972189896 }, { x: 190.2472509540728, y: 387.73028825550034 }, { x: 172.9697239515307, y: 370.4527612529583 }, { x: 158.95489248513212, y: 350.4375076293944 }, { x: 148.62859011713655, y: 328.29268073795373 }, { x: 142.30457631963458, y: 304.6911399379098 }, { x: 140.17500305175776, y: 280.35000610351557 }],
      name: 'circle',
    },
    {
      points: [{ x: 140.17500305175776, y: 280.3500061035155 }, { x: 142.30457631963455, y: 304.69113993790967 }, { x: 148.62859011713655, y: 328.29268073795373 }, { x: 158.95489248513206, y: 350.43750762939436 }, { x: 172.96972395153068, y: 370.4527612529582 }, { x: 190.2472509540728, y: 387.73028825550034 }, { x: 210.2625045776366, y: 401.74511972189896 }, { x: 232.40733146907726, y: 412.07142208989444 }, { x: 256.00887226912135, y: 418.3954358873965 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 304.6911399379096, y: 418.3954358873965 }, { x: 328.29268073795373, y: 412.07142208989444 }, { x: 350.43750762939436, y: 401.74511972189896 }, { x: 370.4527612529582, y: 387.73028825550034 }, { x: 387.73028825550034, y: 370.4527612529582 }, { x: 401.74511972189896, y: 350.43750762939436 }, { x: 412.07142208989444, y: 328.2926807379538 }, { x: 418.3954358873965, y: 304.6911399379096 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 418.3954358873965, y: 256.00887226912135 }, { x: 412.07142208989444, y: 232.4073314690773 }, { x: 401.74511972189896, y: 210.2625045776366 }, { x: 387.73028825550034, y: 190.2472509540728 }, { x: 370.4527612529582, y: 172.9697239515307 }, { x: 350.4375076293944, y: 158.95489248513212 }, { x: 328.29268073795384, y: 148.62859011713658 }, { x: 304.69113993790967, y: 142.30457631963455 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 256.0088722691214, y: 142.30457631963455 }, { x: 232.40733146907735, y: 148.62859011713653 }, { x: 210.2625045776366, y: 158.9548924851321 }, { x: 190.2472509540728, y: 172.96972395153068 }, { x: 172.9697239515307, y: 190.24725095407274 }, { x: 158.95489248513212, y: 210.26250457763658 }, { x: 148.62859011713655, y: 232.4073314690773 }, { x: 142.30457631963458, y: 256.00887226912124 }, { x: 140.17500305175776, y: 280.35000610351545 }],
      name: 'circle',
    },
    {
      points: [{ x: 280.3500061035155, y: 420.52500915527327 }, { x: 304.6911399379096, y: 418.3954358873965 }, { x: 328.29268073795373, y: 412.07142208989444 }, { x: 350.43750762939436, y: 401.74511972189896 }, { x: 370.4527612529582, y: 387.73028825550034 }, { x: 387.73028825550034, y: 370.4527612529582 }, { x: 401.74511972189896, y: 350.43750762939436 }, { x: 412.07142208989444, y: 328.2926807379538 }, { x: 418.3954358873965, y: 304.6911399379096 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 418.3954358873965, y: 256.00887226912135 }, { x: 412.07142208989444, y: 232.4073314690773 }, { x: 401.74511972189896, y: 210.2625045776366 }, { x: 387.73028825550034, y: 190.2472509540728 }, { x: 370.4527612529582, y: 172.9697239515307 }, { x: 350.4375076293944, y: 158.95489248513212 }, { x: 328.29268073795384, y: 148.62859011713658 }, { x: 304.69113993790967, y: 142.30457631963455 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 256.0088722691214, y: 142.30457631963455 }, { x: 232.40733146907735, y: 148.62859011713653 }, { x: 210.2625045776366, y: 158.9548924851321 }, { x: 190.2472509540728, y: 172.96972395153068 }, { x: 172.9697239515307, y: 190.24725095407274 }, { x: 158.95489248513212, y: 210.26250457763658 }, { x: 148.62859011713655, y: 232.4073314690773 }, { x: 142.30457631963458, y: 256.00887226912124 }, { x: 140.17500305175776, y: 280.35000610351545 }, { x: 142.30457631963455, y: 304.6911399379096 }, { x: 148.62859011713658, y: 328.2926807379538 }, { x: 158.954892485132, y: 350.4375076293943 }, { x: 172.96972395153068, y: 370.4527612529582 }, { x: 190.24725095407274, y: 387.7302882555003 }, { x: 210.26250457763666, y: 401.74511972189896 }, { x: 232.40733146907718, y: 412.07142208989444 }, { x: 256.00887226912135, y: 418.3954358873965 }, { x: 280.35000610351545, y: 420.52500915527327 }],
      name: 'circle',
    },
    {
      points: [{ x: 280.3500061035155, y: 140.17500305175776 }, { x: 304.6911399379096, y: 142.30457631963455 }, { x: 328.29268073795373, y: 148.62859011713655 }, { x: 350.43750762939436, y: 158.95489248513206 }, { x: 370.4527612529582, y: 172.96972395153068 }, { x: 387.73028825550034, y: 190.24725095407277 }, { x: 401.74511972189896, y: 210.26250457763666 }, { x: 412.07142208989444, y: 232.40733146907723 }, { x: 418.3954358873965, y: 256.0088722691214 }, { x: 420.52500915527327, y: 280.3500061035155 }, { x: 418.3954358873965, y: 304.69113993790967 }, { x: 412.07142208989444, y: 328.29268073795373 }, { x: 401.74511972189896, y: 350.4375076293944 }, { x: 387.73028825550034, y: 370.4527612529582 }, { x: 370.4527612529582, y: 387.73028825550034 }, { x: 350.4375076293944, y: 401.7451197218989 }, { x: 328.29268073795384, y: 412.07142208989444 }, { x: 304.69113993790967, y: 418.3954358873965 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 256.0088722691214, y: 418.3954358873965 }, { x: 232.40733146907735, y: 412.0714220898945 }, { x: 210.2625045776366, y: 401.74511972189896 }, { x: 190.2472509540728, y: 387.73028825550034 }, { x: 172.9697239515307, y: 370.4527612529583 }, { x: 158.95489248513212, y: 350.4375076293944 }, { x: 148.62859011713655, y: 328.29268073795373 }, { x: 142.30457631963458, y: 304.6911399379098 }, { x: 140.17500305175776, y: 280.35000610351557 }, { x: 142.30457631963455, y: 256.0088722691214 }, { x: 148.62859011713658, y: 232.40733146907723 }, { x: 158.954892485132, y: 210.26250457763672 }, { x: 172.96972395153068, y: 190.2472509540728 }, { x: 190.24725095407274, y: 172.96972395153074 }, { x: 210.26250457763666, y: 158.95489248513206 }, { x: 232.40733146907718, y: 148.6285901171366 }, { x: 256.00887226912135, y: 142.30457631963455 }, { x: 280.35000610351545, y: 140.17500305175776 }],
      name: 'circle',
    },
    {
      points: [{ x: 280.3500061035155, y: 140.17500305175776 }, { x: 256.0088722691214, y: 142.30457631963455 }, { x: 232.4073314690773, y: 148.62859011713655 }, { x: 210.26250457763666, y: 158.95489248513206 }, { x: 190.2472509540728, y: 172.96972395153068 }, { x: 172.9697239515307, y: 190.24725095407277 }, { x: 158.95489248513206, y: 210.26250457763666 }, { x: 148.62859011713658, y: 232.40733146907723 }, { x: 142.30457631963455, y: 256.0088722691214 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 142.30457631963455, y: 304.69113993790967 }, { x: 148.62859011713655, y: 328.29268073795373 }, { x: 158.9548924851321, y: 350.4375076293944 }, { x: 172.96972395153068, y: 370.4527612529582 }, { x: 190.24725095407277, y: 387.73028825550034 }, { x: 210.26250457763658, y: 401.7451197218989 }, { x: 232.40733146907718, y: 412.07142208989444 }, { x: 256.00887226912135, y: 418.3954358873965 }, { x: 280.3500061035155, y: 420.52500915527327 }, { x: 304.6911399379096, y: 418.3954358873965 }, { x: 328.2926807379537, y: 412.0714220898945 }, { x: 350.4375076293944, y: 401.74511972189896 }, { x: 370.4527612529582, y: 387.73028825550034 }, { x: 387.73028825550034, y: 370.4527612529583 }, { x: 401.7451197218989, y: 350.4375076293944 }, { x: 412.07142208989444, y: 328.29268073795373 }, { x: 418.39543588739645, y: 304.6911399379098 }, { x: 420.52500915527327, y: 280.35000610351557 }, { x: 418.3954358873965, y: 256.0088722691214 }, { x: 412.07142208989444, y: 232.40733146907723 }, { x: 401.745119721899, y: 210.26250457763672 }, { x: 387.73028825550034, y: 190.2472509540728 }, { x: 370.4527612529583, y: 172.96972395153074 }, { x: 350.43750762939436, y: 158.95489248513206 }, { x: 328.29268073795384, y: 148.6285901171366 }, { x: 304.69113993790967, y: 142.30457631963455 }, { x: 280.35000610351557, y: 140.17500305175776 }],
      name: 'circle',
    },
    {
      points: [{ x: 280.3500061035155, y: 420.52500915527327 }, { x: 256.0088722691214, y: 418.3954358873965 }, { x: 232.4073314690773, y: 412.07142208989444 }, { x: 210.26250457763666, y: 401.74511972189896 }, { x: 190.2472509540728, y: 387.73028825550034 }, { x: 172.9697239515307, y: 370.4527612529582 }, { x: 158.95489248513206, y: 350.43750762939436 }, { x: 148.62859011713658, y: 328.2926807379538 }, { x: 142.30457631963455, y: 304.6911399379096 }, { x: 140.17500305175776, y: 280.3500061035155 }, { x: 142.30457631963455, y: 256.00887226912135 }, { x: 148.62859011713655, y: 232.4073314690773 }, { x: 158.9548924851321, y: 210.2625045776366 }, { x: 172.96972395153068, y: 190.2472509540728 }, { x: 190.24725095407277, y: 172.9697239515307 }, { x: 210.26250457763658, y: 158.95489248513212 }, { x: 232.40733146907718, y: 148.62859011713658 }, { x: 256.00887226912135, y: 142.30457631963455 }, { x: 280.3500061035155, y: 140.17500305175776 }, { x: 304.6911399379096, y: 142.30457631963455 }, { x: 328.2926807379537, y: 148.62859011713653 }, { x: 350.4375076293944, y: 158.9548924851321 }, { x: 370.4527612529582, y: 172.96972395153068 }, { x: 387.73028825550034, y: 190.24725095407274 }, { x: 401.7451197218989, y: 210.26250457763658 }, { x: 412.07142208989444, y: 232.4073314690773 }, { x: 418.39543588739645, y: 256.00887226912124 }, { x: 420.52500915527327, y: 280.35000610351545 }, { x: 418.3954358873965, y: 304.6911399379096 }, { x: 412.07142208989444, y: 328.2926807379538 }, { x: 401.745119721899, y: 350.4375076293943 }, { x: 387.73028825550034, y: 370.4527612529582 }, { x: 370.4527612529583, y: 387.7302882555003 }, { x: 350.43750762939436, y: 401.74511972189896 }, { x: 328.29268073795384, y: 412.07142208989444 }, { x: 304.69113993790967, y: 418.3954358873965 }, { x: 280.35000610351557, y: 420.52500915527327 }],
      name: 'circle',
    },
    {
      points: [{ x: 109, y: 113 }, { x: 113, y: 117 }, { x: 118, y: 122 }, { x: 124, y: 129 }, { x: 132, y: 137 }, { x: 139, y: 145 }, { x: 140, y: 147 }, { x: 145, y: 154 }, { x: 146, y: 156 }, { x: 150, y: 162 }, { x: 152, y: 165 }, { x: 155, y: 169 }, { x: 157, y: 172 }, { x: 158, y: 174 }, { x: 158, y: 175 }, { x: 159, y: 177 }, { x: 161, y: 178 }, { x: 161, y: 179 }, { x: 162, y: 180 }, { x: 163, y: 181 }, { x: 164, y: 182 }, { x: 165, y: 183 }, { x: 166, y: 184 }, { x: 168, y: 186 }, { x: 169, y: 187 }, { x: 170, y: 189 }, { x: 172, y: 190 }, { x: 173, y: 192 }, { x: 175, y: 195 }, { x: 177, y: 197 }, { x: 178, y: 198 }, { x: 179, y: 200 }, { x: 181, y: 201 }, { x: 182, y: 203 }, { x: 182, y: 203 }, { x: 183, y: 204 }, { x: 183, y: 204 }, { x: 184, y: 204 }, { x: 184, y: 204 }, { x: 184, y: 204 }, { x: 185, y: 204 }, { x: 185, y: 204 }, { x: 185, y: 203 }, { x: 186, y: 202 }, { x: 186, y: 200 }, { x: 188, y: 198 }, { x: 191, y: 194 }, { x: 192, y: 191 }, { x: 196, y: 185 }, { x: 200, y: 180 }, { x: 203, y: 174 }, { x: 206, y: 166 }, { x: 210, y: 159 }, { x: 211, y: 155 }, { x: 214, y: 148 }, { x: 216, y: 142 }, { x: 218, y: 138 }, { x: 220, y: 133 }, { x: 221, y: 131 }, { x: 223, y: 128 }, { x: 224, y: 125 }, { x: 225, y: 122 }, { x: 226, y: 120 }, { x: 227, y: 118 }, { x: 227, y: 116 }, { x: 228, y: 115 }, { x: 229, y: 113 }, { x: 230, y: 110 }, { x: 231, y: 109 }, { x: 232, y: 108 }, { x: 232, y: 106 }, { x: 233, y: 104 }, { x: 234, y: 102 }, { x: 234, y: 101 }, { x: 235, y: 99 }, { x: 236, y: 98 }, { x: 236, y: 97 }, { x: 237, y: 96 }, { x: 237, y: 95 }, { x: 237, y: 95 }, { x: 238, y: 95 }, { x: 238, y: 94 }, { x: 238, y: 94 }, { x: 238, y: 94 }, { x: 239, y: 94 }],
      name: 'v',
    },
    {
      points: [{ x: 125, y: 110 }, { x: 130, y: 117 }, { x: 135, y: 125 }, { x: 142, y: 136 }, { x: 150, y: 150 }, { x: 160, y: 166 }, { x: 170, y: 182 }, { x: 180, y: 197 }, { x: 185, y: 202 }, { x: 194, y: 214 }, { x: 201, y: 225 }, { x: 205, y: 229 }, { x: 206, y: 231 }, { x: 210, y: 236 }, { x: 213, y: 239 }, { x: 214, y: 241 }, { x: 216, y: 243 }, { x: 216, y: 243 }, { x: 217, y: 244 }, { x: 217, y: 244 }, { x: 217, y: 244 }, { x: 218, y: 244 }, { x: 218, y: 244 }, { x: 218, y: 243 }, { x: 218, y: 243 }, { x: 219, y: 241 }, { x: 220, y: 240 }, { x: 222, y: 238 }, { x: 226, y: 234 }, { x: 229, y: 230 }, { x: 233, y: 224 }, { x: 238, y: 217 }, { x: 242, y: 208 }, { x: 247, y: 199 }, { x: 252, y: 191 }, { x: 254, y: 186 }, { x: 257, y: 178 }, { x: 260, y: 172 }, { x: 262, y: 167 }, { x: 264, y: 162 }, { x: 266, y: 157 }, { x: 268, y: 154 }, { x: 270, y: 151 }, { x: 271, y: 148 }, { x: 273, y: 146 }, { x: 275, y: 143 }, { x: 277, y: 140 }, { x: 279, y: 136 }, { x: 282, y: 133 }, { x: 287, y: 126 }, { x: 289, y: 123 }, { x: 292, y: 120 }, { x: 293, y: 118 }, { x: 295, y: 116 }, { x: 296, y: 114 }, { x: 297, y: 112 }, { x: 298, y: 112 }, { x: 298, y: 111 }, { x: 299, y: 111 }, { x: 299, y: 110 }, { x: 299, y: 110 }, { x: 300, y: 110 }],
      name: 'v',
    },
    {
      points: [{ x: 141, y: 489 }, { x: 143, y: 494 }, { x: 147, y: 503 }, { x: 153, y: 512 }, { x: 161, y: 526 }, { x: 170, y: 543 }, { x: 180, y: 559 }, { x: 183, y: 565 }, { x: 192, y: 577 }, { x: 195, y: 581 }, { x: 201, y: 590 }, { x: 203, y: 592 }, { x: 207, y: 596 }, { x: 210, y: 599 }, { x: 212, y: 600 }, { x: 215, y: 601 }, { x: 216, y: 601 }, { x: 218, y: 601 }, { x: 220, y: 597 }, { x: 224, y: 592 }, { x: 230, y: 582 }, { x: 236, y: 571 }, { x: 241, y: 565 }, { x: 248, y: 554 }, { x: 254, y: 543 }, { x: 257, y: 538 }, { x: 262, y: 529 }, { x: 264, y: 526 }, { x: 267, y: 520 }, { x: 269, y: 516 }, { x: 270, y: 514 }, { x: 271, y: 512 }, { x: 272, y: 511 }, { x: 272, y: 511 }, { x: 272, y: 510 }, { x: 273, y: 510 }],
      name: 'v',
    },
    {
      points: [{ x: 168, y: 166 }, { x: 171, y: 171 }, { x: 175, y: 179 }, { x: 182, y: 191 }, { x: 189, y: 205 }, { x: 192, y: 211 }, { x: 198, y: 221 }, { x: 204, y: 231 }, { x: 206, y: 235 }, { x: 210, y: 241 }, { x: 214, y: 247 }, { x: 215, y: 248 }, { x: 217, y: 251 }, { x: 218, y: 253 }, { x: 219, y: 254 }, { x: 220, y: 254 }, { x: 221, y: 255 }, { x: 221, y: 255 }, { x: 221, y: 255 }, { x: 222, y: 255 }, { x: 222, y: 254 }, { x: 224, y: 251 }, { x: 226, y: 248 }, { x: 229, y: 242 }, { x: 236, y: 231 }, { x: 239, y: 225 }, { x: 245, y: 214 }, { x: 250, y: 203 }, { x: 255, y: 193 }, { x: 258, y: 188 }, { x: 262, y: 179 }, { x: 266, y: 173 }, { x: 267, y: 170 }, { x: 270, y: 166 }, { x: 272, y: 163 }, { x: 273, y: 161 }, { x: 274, y: 160 }, { x: 274, y: 160 }],
      name: 'v',
    },
    {
      points: [{ x: 137, y: 525 }, { x: 144, y: 530 }, { x: 167, y: 547 }, { x: 191, y: 565 }, { x: 220, y: 589 }, { x: 251, y: 613 }, { x: 263, y: 622 }, { x: 292, y: 642 }, { x: 299, y: 647 }, { x: 320, y: 660 }, { x: 324, y: 662 }, { x: 327, y: 663 }, { x: 329, y: 663 }, { x: 335, y: 665 }, { x: 342, y: 668 }, { x: 346, y: 668 }, { x: 347, y: 668 }, { x: 348, y: 664 }, { x: 350, y: 658 }, { x: 351, y: 652 }, { x: 354, y: 643 }, { x: 357, y: 635 }, { x: 361, y: 626 }, { x: 363, y: 622 }, { x: 366, y: 614 }, { x: 369, y: 607 }, { x: 372, y: 601 }, { x: 375, y: 596 }, { x: 377, y: 591 }, { x: 379, y: 586 }, { x: 382, y: 581 }, { x: 384, y: 576 }, { x: 386, y: 571 }, { x: 387, y: 568 }, { x: 389, y: 565 }, { x: 392, y: 562 }, { x: 394, y: 561 }],
      name: 'v',
    },
    {
      points: [{ x: 147, y: 521 }, { x: 148, y: 518 }, { x: 151, y: 512 }, { x: 157, y: 501 }, { x: 163, y: 489 }, { x: 169, y: 477 }, { x: 176, y: 463 }, { x: 182, y: 449 }, { x: 184, y: 442 }, { x: 190, y: 430 }, { x: 194, y: 418 }, { x: 196, y: 414 }, { x: 200, y: 406 }, { x: 201, y: 404 }, { x: 203, y: 399 }, { x: 205, y: 395 }, { x: 206, y: 393 }, { x: 207, y: 391 }, { x: 208, y: 390 }, { x: 208, y: 390 }, { x: 208, y: 389 }, { x: 209, y: 389 }, { x: 209, y: 389 }, { x: 209, y: 390 }, { x: 210, y: 392 }, { x: 211, y: 397 }, { x: 215, y: 406 }, { x: 219, y: 417 }, { x: 223, y: 424 }, { x: 228, y: 436 }, { x: 233, y: 447 }, { x: 235, y: 452 }, { x: 240, y: 461 }, { x: 241, y: 463 }, { x: 244, y: 469 }, { x: 246, y: 473 }, { x: 248, y: 475 }, { x: 249, y: 477 }, { x: 250, y: 479 }, { x: 251, y: 482 }, { x: 252, y: 484 }, { x: 253, y: 486 }, { x: 254, y: 489 }, { x: 256, y: 492 }, { x: 257, y: 493 }, { x: 258, y: 495 }, { x: 259, y: 497 }, { x: 260, y: 498 }, { x: 261, y: 499 }, { x: 261, y: 499 }, { x: 262, y: 499 }, { x: 263, y: 499 }],
      name: 'caret',
    },
    {
      points: [{ x: 123, y: 583 }, { x: 126, y: 574 }, { x: 131, y: 564 }, { x: 139, y: 548 }, { x: 147, y: 531 }, { x: 149, y: 523 }, { x: 156, y: 508 }, { x: 158, y: 503 }, { x: 159, y: 499 }, { x: 163, y: 490 }, { x: 163, y: 489 }, { x: 165, y: 485 }, { x: 166, y: 482 }, { x: 167, y: 480 }, { x: 167, y: 480 }, { x: 167, y: 480 }, { x: 167, y: 480 }, { x: 168, y: 482 }, { x: 170, y: 486 }, { x: 173, y: 490 }, { x: 179, y: 500 }, { x: 185, y: 510 }, { x: 194, y: 523 }, { x: 205, y: 538 }, { x: 216, y: 553 }, { x: 222, y: 560 }, { x: 233, y: 572 }, { x: 238, y: 577 }, { x: 246, y: 585 }, { x: 248, y: 587 }, { x: 253, y: 591 }, { x: 256, y: 593 }, { x: 258, y: 594 }, { x: 260, y: 595 }],
      name: 'caret',
    },
    {
      points: [{ x: 179, y: 525 }, { x: 182, y: 517 }, { x: 187, y: 505 }, { x: 189, y: 499 }, { x: 195, y: 486 }, { x: 200, y: 472 }, { x: 201, y: 468 }, { x: 202, y: 465 }, { x: 205, y: 458 }, { x: 207, y: 452 }, { x: 207, y: 452 }, { x: 208, y: 449 }, { x: 208, y: 448 }, { x: 209, y: 447 }, { x: 210, y: 447 }, { x: 211, y: 447 }, { x: 213, y: 447 }, { x: 216, y: 450 }, { x: 218, y: 454 }, { x: 222, y: 459 }, { x: 227, y: 465 }, { x: 232, y: 472 }, { x: 237, y: 479 }, { x: 242, y: 487 }, { x: 247, y: 495 }, { x: 252, y: 503 }, { x: 254, y: 506 }, { x: 258, y: 513 }, { x: 262, y: 519 }, { x: 265, y: 524 }, { x: 266, y: 526 }, { x: 269, y: 530 }, { x: 271, y: 532 }, { x: 272, y: 533 }, { x: 273, y: 534 }],
      name: 'caret',
    },
    {
      points: [{ x: 121, y: 532 }, { x: 123, y: 528 }, { x: 127, y: 521 }, { x: 131, y: 512 }, { x: 136, y: 502 }, { x: 139, y: 498 }, { x: 144, y: 490 }, { x: 146, y: 488 }, { x: 150, y: 483 }, { x: 154, y: 478 }, { x: 155, y: 478 }, { x: 158, y: 476 }, { x: 159, y: 474 }, { x: 161, y: 474 }, { x: 162, y: 474 }, { x: 164, y: 474 }, { x: 166, y: 474 }, { x: 169, y: 475 }, { x: 172, y: 479 }, { x: 176, y: 485 }, { x: 181, y: 492 }, { x: 187, y: 501 }, { x: 191, y: 509 }, { x: 194, y: 513 }, { x: 198, y: 519 }, { x: 200, y: 521 }, { x: 202, y: 525 }, { x: 204, y: 528 }, { x: 206, y: 529 }, { x: 206, y: 530 }, { x: 207, y: 531 }, { x: 207, y: 531 }, { x: 208, y: 531 }],
      name: 'caret',
    },
    {
      points: [{ x: 141, y: 239 }, { x: 145, y: 232 }, { x: 153, y: 216 }, { x: 162, y: 198 }, { x: 170, y: 179 }, { x: 172, y: 173 }, { x: 174, y: 170 }, { x: 174, y: 167 }, { x: 175, y: 166 }, { x: 177, y: 161 }, { x: 179, y: 159 }, { x: 179, y: 158 }, { x: 180, y: 157 }, { x: 181, y: 157 }, { x: 182, y: 160 }, { x: 185, y: 166 }, { x: 189, y: 179 }, { x: 196, y: 192 }, { x: 205, y: 210 }, { x: 214, y: 230 }, { x: 224, y: 248 }, { x: 228, y: 255 }, { x: 231, y: 260 }, { x: 233, y: 263 }, { x: 237, y: 270 }, { x: 240, y: 273 }, { x: 244, y: 277 }, { x: 244, y: 276 }],
      name: 'caret',
    },
  ];

  ShapeDetector.prototype.spot = function (points, patternName) {
    if (patternName == null) {
      patternName = '';
    }

    let distance,
      pattern,
      score;
    const stroke = new Stroke(points);
    let bestDistance = +Infinity;
    let bestPattern = null;
    let bestScore = 0;

    for (let i = 0; i < this.patterns.length; i++) {
      pattern = this.patterns[i];

      if (pattern.name.indexOf(patternName) > -1) {
        distance = stroke.distanceAtBestAngle(pattern);
        score = 1.0 - distance / _halfDiagonal;

        if (distance < bestDistance && score > this.threshold) {
          bestDistance = distance;
          bestPattern = pattern.name;
          bestScore = score;
        }
      }
    }

    return { pattern: bestPattern, score: bestScore };
  };

  ShapeDetector.prototype.learn = function (name, points) {
    return this.patterns.push(new Stroke(points, name));
  };

  return ShapeDetector;
}));
